////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// File: "bitFont.h"
// Author: Scott Smallback (SS)
// Purpose: This file is necessary to render bitmap fonts onto the screen.
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#pragma once

class viewManager;

#define CHARSET "Resource/PS_charset.png"
#define CHARWIDTH 32
#define CHARHEIGHT 48

class bitFont
{
protected:
	viewManager* VM;

	//Charset ID
	int csId;

	int charHeight, charWidth, columns;

	//Singleton protection
	bitFont(void);
	bitFont(const bitFont&);
	bitFont& operator=(const bitFont&);
	~bitFont(void);

	//////////////////////////////////////////////////////////////////////////////////////////////////////
	//	Function:		"charRect"
	//	Last Modified:	August 25, 2008
	//	Purpose:		Returns the rect of the selected character
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	rect charRect(char ch);
public:
	
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	//	Function:		"getInstance"
	//	Last Modified:	August 25, 2008
	//	Purpose:		Gets the instance for the bitFont singleton
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	static bitFont* getInstance();

	//////////////////////////////////////////////////////////////////////////////////////////////////////
	//	Function:		"initialize"
	//	Last Modified:	August 25, 2008
	//	Purpose:		Initializes the bitFont with default values
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	void initialize(viewManager* _VM, char* fontImg = CHARSET, int char_width = CHARWIDTH,
		int char_height = CHARHEIGHT);

	//////////////////////////////////////////////////////////////////////////////////////////////////////
	//	Function:		"shutdown"
	//	Last Modified:	August 25, 2008
	//	Purpose:		Shuts down the bitFont class
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	void shutdown();
	
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	//	Function:		"drawText"
	//	Last Modified:	August 25, 2008
	//	Purpose:		Draws selected text out to the screen
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	void drawText(char* text, int x, int y, unsigned int color = 0xffffffff, float scale = 1, float depth = 0);
};
